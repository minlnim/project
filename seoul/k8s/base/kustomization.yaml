apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: default

# Terraform에서 관리하는 리소스:
# - ConfigMap (kubernetes_config_map.backend)
# - Secret (kubernetes_secret.backend)
# - Deployment (kubernetes_deployment.backend)
# - Service (kubernetes_service.backend)
# - TargetGroupBinding (Terraform이 직접 생성하지는 않지만 AWS Load Balancer Controller가 처리)

# K8s로 관리하는 리소스 (필요한 경우만)
resources:
- namespace.yaml
- configmap.yaml
- secret.yaml
- deployment.yaml
- service.yaml

# Common labels for all resources
commonLabels:
  app.kubernetes.io/component: backend
  app.kubernetes.io/managed-by: terraform
  app.kubernetes.io/name: seoul-portal

# Common annotations
commonAnnotations:
  description: Seoul Portal Backend Application - Managed by Terraform
images:
- name: 150502622488.dkr.ecr.ap-northeast-2.amazonaws.com/seoul-portal-seoul-backend
  newTag: ae470f6-20251201-054349
